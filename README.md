# Документация к REST API Сервису Кадастровой Обработки

## Введение

REST API Сервис Кадастровой Обработки предоставляет возможность отправки запросов на обработку кадастрового номера с указанием координат, получения результатов обработки, а также просмотра истории запросов.

## Основные концепции

- **Эндпоинты**: Сервис содержит следующие эндпоинты:
  - `/query`: Для отправки нового запроса на обработку.
  - `/result`: Для получения результата обработки.
  - `/history`: Для просмотра истории запросов.
  - `/ping`: Для проверки работоспособности сервера.

- **Методы**:
  - `POST`: Используется для отправки новых запросов и получения результатов обработки.
  - `GET`: Используется для получения истории запросов и проверки состояния сервера.

## Аутентификация

Сервис не требует аутентификации для использования основного функционала. Однако, для доступа к административной части сервиса может потребоваться аутентификация.

## Эндпоинты

### 1. `/query`

#### Метод: POST

Отправляет новый запрос на обработку кадастрового номера с указанием координат.

**Пример запроса:**
```json
{
  "cadastral_number": "1234567890",
  "latitude": 43.25654,
  "longitude": 76.92848
}
```

**Пример ответа (успешный):**
```json
{
  "id": 1,
  "cadastral_number": "1234567890",
  "latitude": 43.25654,
  "longitude": 76.92848,
  "result": null,
  "timestamp": "2024-06-13T12:34:56.789Z"
}

```

### 2. `/result`

#### Метод: POST
Получает результат обработки запроса по его идентификатору.

**Пример запроса:**
```json
{
  "id": 1
}

```

**Пример ответа (успешный):**

```json
{
  "result": true
}

```
### 3. `/history`
#### Метод: GET
Возвращает историю всех запросов или историю запросов по кадастровому номеру.

**Пример запроса для получения всей истории:**

```http
GET /history
```

**Пример запроса для получения истории по кадастровому номеру:**

```http
GET /history?cadastral_number=1234567890
```

**Пример ответа:**

```json
[
  {
    "id": 1,
    "cadastral_number": "1234567890",
    "latitude": 43.25654,
    "longitude": 76.92848,
    "result": true,
    "timestamp": "2024-06-13T12:34:56.789Z"
  },
  {
    "id": 2,
    "cadastral_number": "0987654321",
    "latitude": 44.45654,
    "longitude": 75.92848,
    "result": false,
    "timestamp": "2024-06-13T13:45:56.789Z"
  }
]
```

### 4. `/ping`
#### Метод: GET
Проверяет работоспособность сервера.

**Пример запроса:**

```http
GET /ping
```

**Пример ответа:**

```json
{
  "status": "ok"
}
```

### Ошибки
 - 400 Bad Request: Некорректный запрос или некорректные данные.
 - 404 Not Found: Запрашиваемый ресурс не найден.
  
### Заключение

REST API Сервис Кадастровой Обработки предоставляет удобный способ отправки запросов на обработку кадастровых данных и получения результатов. Используйте документацию для ознакомления с доступными эндпоинтами и методами.